!function(a,b){"function"==typeof define&&define.amd?define(["moment"],function(c){return a.DateRange=b(c)}):"object"==typeof module&&module.exports?module.exports=b(require("moment")):a.DateRange=b(a.moment)}(this,function(a){function b(b,c){var d,e=b,f=c;1!==arguments.length&&void 0!==c||("object"==typeof b&&2===b.length?(e=b[0],f=b[1]):"string"==typeof b&&(d=b.split("/"),e=d[0],f=d[1])),this.start=e instanceof a?e:a(e),this.end=f instanceof a?f:a(f)}function c(b,c){for(var d=a(this.start),e=!1;this.contains(d)&&!e;){var f=c.call(this,d.clone());f===!1&&(e=!0),d.add(1,b)}}function d(b,c){var d=this/b,e=Math.floor(d);if(e!==1/0)for(var f=!1,g=0;g<=e&&!f;g++){var h=c.call(this,a(this.start.valueOf()+b.valueOf()*g));h===!1&&(f=!0)}}function e(a,b){return a.isBefore(b)||a.isSame(b)}function f(a,b){return a.isAfter(b)||a.isSame(b)}a.utc(new Date(2016,0,1));var g={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};return b.prototype.constructor=b,b.prototype.clone=function(){return a().range(this.start,this.end)},b.prototype.contains=function(a){var c=this.start,d=this.end;return a instanceof b?e(c,a.start)&&f(d,a.end):e(c,a)&&f(d,a)},b.prototype.overlaps=function(a){return this.start.isSameOrBefore(a.end)&&this.end.isSameOrAfter(a.start)},b.prototype.intersect=function(a){var c=this.start,d=this.end;return e(c,a.start)&&e(a.start,d)&&d.isBefore(a.end)?new b(a.start,d):a.start.isBefore(c)&&e(c,a.end)&&e(a.end,d)?new b(c,a.end):a.start.isBefore(c)&&d.isBefore(a.end)?this:e(c,a.start)&&e(a.end,d)?a:null},b.prototype.add=function(c){return this.overlaps(c)?new b(a.min(this.start,c.start),a.max(this.end,c.end)):null},b.prototype.subtract=function(a){var c=this.start,d=this.end;return null===this.intersect(a)?[this]:e(a.start,c)&&e(d,a.end)?[]:e(a.start,c)&&a.end.isBefore(d)&&e(c,a.end)?[new b(a.end,d)]:e(a.start,d)&&c.isBefore(a.start)&&e(d,a.end)?[new b(c,a.start)]:e(c,a.start)&&e(a.end,d)?[new b(c,a.start),new b(a.end,d)]:[this]},b.prototype.by=function(a,b){return"string"==typeof a?c.call(this,a,b):d.call(this,a,b),this},b.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},b.prototype.valueOf=function(){return this.end-this.start},b.prototype.center=function(){var b=this.start+this.diff()/2;return a(b)},b.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},b.prototype.isSame=function(a){return this.start.isSame(a.start)&&this.end.isSame(a.end)},b.prototype.diff=function(a){return this.end.diff(this.start,a)},a.range=function(c,d){return!(c instanceof a)&&c in g?new b(a(this).startOf(c),a(this).endOf(c)):new b(c,d)},a.range.constructor=b,a.fn.range=a.range,a.fn.within=function(a){return a.contains(this._d)},b});